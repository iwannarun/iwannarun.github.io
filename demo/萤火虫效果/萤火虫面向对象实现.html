<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<script type="text/javascript" src="js/jquery-2.1.0.js" ></script>
	</head>
	<style type="text/css">
	*{
		padding: 0;
		margin: 0;
	}
	body,html{
		
		/*height: 100%;
		width: 100%;*/
	}
	#box{
		height: 100%;
		width: 100%;
		background: url(img/bg.jpg);
		/*根据当前元素的大小，自动充满整个屏幕*/
		background-size: cover;
		position: fixed;
	}
	img{
		position: absolute;
		width: 20px;
		height: 20px;
	}
	
	</style>
	<body>
	<div id="box">
		
	</div>
	
	<script type="text/javascript">
	function Worm(){
		//两个属性
		this.widthX = 0;
		this.elem = $("<img src='img/1.jpg' />");
	}
	Worm.prototype = {
		//创建新的位置
		getNewPoint:function(){
			//js对象 可添加属性
			var point = {};
			point.x = Math.random() * window.innerWidth;
			point.y = Math.random() * window.innerHeight;
			return point;
		},
		//成员方法
		show:function(){			
			//通过this调用成员方法
			var point = this.getNewPoint();
			var pointX = point.x;
			var pointY = point.y;
			this.elem.css('top',pointY+'px');
			this.elem.css('left',pointX+'px');
			this.elem.appendTo('#box');
			//返回当前萤火虫对象
			return this;
		},
		fly:function(){
			var point = this.getNewPoint();
			var that = this;
			this.elem.animate({'left':point.x+'px',"top":point.y+'px'},2000,function(){
				that.fly();
			});
			
		}
	}
	
	for (var i = 0; i < 10; i++) {
		new Worm().show().fly();
	}
	</script>
	</body>
</html>
